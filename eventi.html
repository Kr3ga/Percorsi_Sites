<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EVENTI - PERCORSI</title>
  <link rel="stylesheet" href="stile.css">
  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      color: #fff;
      background-color: #fff;
    }
    /* Navbar */
    nav {
      background-color: #983128;
      display: flex;
      justify-content: center;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
    }
    nav ul {
      list-style: none;
      margin: 0;
      padding: 10px 0;
      display: flex;
      gap: 30px;
    }
    nav ul li a {
      color: #fff;
      text-decoration: none;
      font-size: 35px;
      font-weight: bold;
      padding: 8px 20px;
      border-radius: 8px;
      position: relative;
      overflow: hidden;
      transition: color 0.3s;
      z-index: 1;
    }
    nav ul li a::before {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      width: 0;
      height: 100%;
      background: rgba(86,0,20,0.7); /* rosso sangue scurissimo con trasparenza */
      z-index: -1;
      transition: width 0.4s cubic-bezier(.4,0,.2,1);
      border-radius: 8px;
    }
    nav ul li a:hover::before {
      width: 100%;
      left: 0;
      right: auto;
    }
    nav ul li a:hover {
      color: #fff;
      text-decoration: none;
    }
    /* Banner */
    .banner-container {
      position: relative;
      width: 100%;
      display: block;
      margin-top: 60px; /* spazio per navbar fissa */
    }
    .banner {
      width: 100%;
      height: auto;
      display: block;
    }
    .logo-banner {
      position: absolute;
      top: 30px;
      right: 90%;
      height: 80px;
      z-index: 10;
    }
    .scroll-button {
      position: absolute;
      bottom: 60px;
      left: 78%;
      transform: translateX(-50%);
      background-color: white;
      color: black;
      padding: 20px 40px;
      font-size: 30px;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      text-decoration: none;
      transition: background 0.3s, color 0.3s;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      cursor: pointer;
    }
    .scroll-button:hover {
      background-color: #f0f0f0;
      color: #333;
    }
    .text-container {
      position: absolute;
      top: 55%;
      left: 80%;
      transform: translateX(-50%);
      color: #fff;
      max-width: 300px;
      font-family: Arial, sans-serif;
      z-index: 11;
    }
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.8s ease-out;
    }
    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .bottone-centrale {
      display: flex;
      justify-content: center;
      margin-top: 30px;
    }
    .bottone-centrale button {
      background-color: #983128;
      color: white;
      border: none;
      padding: 20px 40px;
      font-size: 28px;
      border-radius: 12px;
      cursor: pointer;
      transition: background-color 0.3s, transform 0.2s cubic-bezier(.4,0,.2,1), box-shadow 0.25s cubic-bezier(.4,0,.2,1);
    }
    .bottone-centrale button:hover {
      background-color: #751f1a;
      transform: scale(1.13);
      box-shadow: 0 8px 24px rgba(86,0,20,0.30), 0 1.5px 8px rgba(0,0,0,0.11);
    }
    @media(max-width: 600px) {
      nav ul li a { font-size: 22px;}
      .scroll-button { font-size: 18px; padding: 10px 18px;}
      .bottone-centrale button { font-size: 18px; padding: 10px 18px;}
    }

    /* --- BLOCCO LOCANDINA: STILI --- */
    .locandina-section {
      background: #ffffff; /* sfondo chiaro per contrasto col testo scuro */
      color: #222;
      padding: 32px 16px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .locandina-wrapper {
      max-width: 980px;
      width: 100%;
      text-align: center;
    }
    .locandina-wrapper h3 {
      margin: 0 0 16px 0;
      font-size: 28px;
      color: #983128;
    }
    .locandina-figure {
      display: inline-block;
      margin: 0 0 12px 0;
    }
    .locandina-figure img {
      display: block;
      max-width: 420px;
      width: 90%;
      height: auto;
      cursor: pointer;
      border-radius: 8px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
      transition: transform 0.18s ease, box-shadow 0.18s ease;
    }
    .locandina-figure img:focus,
    .locandina-figure img:hover {
      transform: translateY(-4px) scale(1.02);
      outline: 3px solid rgba(152,49,40,0.12);
    }
    .locandina-caption {
      font-size: 14px;
      color: #555;
      margin-top: 8px;
    }
    .locandina-details {
      margin-top: 14px;
      text-align: left;
      background: #fff;
      border-radius: 8px;
      padding: 14px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
      font-size: 16px;
      line-height: 1.4;
      color: #222;
    }

    /* LIGHTBOX / OVERLAY */
    .lightbox {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 24px;
    }
    .lightbox.visible {
      display: flex;
    }
    .lightbox img {
      max-width: 96%;
      max-height: 92%;
      border-radius: 6px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.6);
    }
    .lightbox-close {
      position: absolute;
      top: 18px;
      right: 18px;
      background: transparent;
      color: #fff;
      border: none;
      font-size: 40px;
      line-height: 1;
      cursor: pointer;
      padding: 6px 10px;
      opacity: 0.95;
    }
    .lightbox-close:focus { outline: 2px solid #fff; border-radius: 4px; }

    /* Footer (lasciato come prima) */
    footer {
      background-color: #983128;
      color: #fff;
      text-align: center;
      padding: 30px 10px;
      font-size: 22px;
      margin-top: 60px;
    }
    footer a {
      color: #fff;
      text-decoration: underline;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="chi_siamo.html">Chi Siamo</a></li>
      <li><a href="cosa_facciamo.html">Cosa Facciamo</a></li>
      <li><a href="eventi.html">Eventi</a></li>
      <li><a href="partner.html">Partner</a></li>
      <li><a href="contatti.html">Contatti</a></li>
    </ul>
  </nav>

  <!-- Banner + logo + bottone + testo -->
  <div class="banner-container">
    <img src="Banner_sito_Percorsi.png" alt="Banner PerCorsi" class="banner" />
    <img src="logo_Percorsi.jpg" alt="Logo Percorsi" class="logo-banner" />
    <a href="#contenuto" class="scroll-button">Scopri di più</a>
    <div class="text-container">
      <h2 style="margin: 0 0 10px 0; font-size: 40px; font-weight: bold;">Eventi</h2>
      <p style="margin: 0; font-size: 20px;">
        Scopri qui tutti gli eventi organizzati da PerCorsi.<br />
        <b>Guarda gli Eventi Passati!</b>
      </p>
    </div>
  </div>

  <!-- Pulsante rosso sotto il banner -->
  <div class="bottone-centrale">
    <button onclick="window.location.href='eventi_passati.html'">
      Eventi Passati
    </button>
  </div>

  <!-- Elemento per scroll-button (fondamentale!) -->
  <div id="contenuto"></div>

  <!-- BLOCCO LOCANDINA (posizionato sopra il footer come richiesto) -->
  <section class="locandina-section" aria-labelledby="locandina-title">
    <div class="locandina-wrapper">
      <h3 id="locandina-title">Sul Filo della Storia</h3>

      <figure class="locandina-figure">
        <!-- Sostituisci l'ext se necessario (es .png / .webp) -->
        <img id="locandinaThumb" src="Locandina_10dicembre.png" alt="Locandina_10dicembre" class="fade-in" tabindex="0" />
        <figcaption class="locandina-caption">Clicca per ingrandire</figcaption>
      </figure>

      <div id="locandinaDetails" class="locandina-details fade-in" role="region" aria-live="polite">
        <!-- Placeholder: scrivi qui tutte le indicazioni che vuoi mostrare sotto la locandina -->
      </div>
    </div>
  </section>

  <!-- LIGHTBOX (modale per immagine ingrandita) -->
  <div id="lightbox" class="lightbox" role="dialog" aria-hidden="true" aria-label="Immagine locandina ingrandita">
    <button class="lightbox-close" aria-label="Chiudi lightbox">&times;</button>
    <img id="lightboxImg" src="" alt="Locandina ingrandita">
  </div>

  <footer>
    © 2025 PerCorsi – Tutti i diritti riservati.<br>
    <a href="contatti.html">Contattaci</a>
  </footer>

  <script>
    // Effetto fade-in (già presente) - osserva gli elementi con class .fade-in
    const faders = document.querySelectorAll('.fade-in');
    const appearOptions = { threshold: 0.1 };
    const appearOnScroll = new IntersectionObserver(function(entries, observer) {
      entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      });
    }, appearOptions);
    faders.forEach(fader => {
      appearOnScroll.observe(fader);
    });

    // LIGHTBOX: apertura/chiusura immagine ingrandita
    (function() {
      const thumb = document.getElementById('locandinaThumb');
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightboxImg');
      const closeBtn = document.querySelector('.lightbox-close');

      if (!thumb || !lightbox || !lightboxImg) return;

      function openLightbox() {
        // usa la stessa immagine (puoi modificare il percorso per una versione ad alta risoluzione)
        lightboxImg.src = thumb.src;
        lightboxImg.alt = thumb.alt;
        lightbox.classList.add('visible');
        lightbox.setAttribute('aria-hidden', 'false');
        // sposta il focus sul bottone di chiusura per accessibilità
        closeBtn.focus();
        document.addEventListener('keydown', onKeyDown);
      }

      function closeLightbox() {
        lightbox.classList.remove('visible');
        lightbox.setAttribute('aria-hidden', 'true');
        lightboxImg.src = '';
        thumb.focus();
        document.removeEventListener('keydown', onKeyDown);
      }

      function onKeyDown(e) {
        if (e.key === 'Escape') closeLightbox();
        // chiudi anche con invio/space quando il bottone di chiusura è attivo:
        if ((e.key === 'Enter' || e.key === ' ') && document.activeElement === closeBtn) {
          e.preventDefault();
          closeLightbox();
        }
      }

      // Eventi per aprire lightbox
      thumb.addEventListener('click', openLightbox);
      thumb.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') openLightbox();
      });

      // Chiudi con click su close button
      closeBtn.addEventListener('click', closeLightbox);

      // Chiudi cliccando fuori dall'immagine (sull'overlay)
      lightbox.addEventListener('click', function(e) {
        if (e.target === lightbox || e.target === lightboxImg) {
          // se clicchi esattamente sull'overlay (non sull'immagine) chiudi
          if (e.target === lightbox) closeLightbox();
        }
      });

      // evita che il click sull'immagine chiuda la lightbox
      lightboxImg.addEventListener('click', function(e) {
        e.stopPropagation();
      });
    })();
  </script>
</body>
</html>
